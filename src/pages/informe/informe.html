<ion-header>
    <ion-navbar color="redMaterial">
        <ion-title>INFORME</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <div class="ionSpinner" *ngIf="loadInit">
        <ion-spinner color="redMaterial"></ion-spinner>
    </div>
    <ng-container *ngIf="!loadInit">
        <p>Seleccione el año/mes para poder generar el informe y así pueda imprimirlo y mostrarle al médico en su
            siguiente
            cita.</p>
        <div class="formSendEmail">
            <form [formGroup]="informeForm" novalidate="novalidate" (ngSubmit)="sendEmail()">
                <ion-grid class="selectAnioMes">
                    <ion-row>
                        <ion-col col-6 class="colLeft">
                            <p>Año</p>
                            <ion-list>
                                <ion-item>
                                    <ion-label>Año</ion-label>
                                    <ion-select placeholder="Año" interface="popover" formControlName="anio">
                                        <ion-option *ngFor="let anio of anios" [value]="anio.anio"
                                            (ionSelect)="changeAnio(anio.anio)">{{ anio.anio }}
                                        </ion-option>
                                    </ion-select>
                                </ion-item>
                            </ion-list>
                        </ion-col>
                        <ion-col col-6 class="colRight">
                            <p>Mes</p>
                            <ion-list>
                                <ion-item>
                                    <ion-label>Mes</ion-label>
                                    <ion-select placeholder="Mes" interface="popover" formControlName="mes">
                                        <ion-option *ngFor="let mes of meses" [value]="mes.mes">{{ mes.mes | mesText }}
                                        </ion-option>
                                    </ion-select>
                                </ion-item>
                            </ion-list>
                        </ion-col>
                    </ion-row>
                </ion-grid>

                <div class="listInputEmail">
                    <p>Ingrese el correo para enviar el informe</p>
                    <ion-list>
                        <ion-item>
                            <ion-icon name="mail" item-start></ion-icon>
                            <ion-input type="email" placeholder="test@example.com" formControlName="email"></ion-input>
                        </ion-item>
                    </ion-list>
                </div>

                <div>
                    <button ion-button [disabled]="!informeForm.valid" type="submit" color="redMaterial"
                        block>Enviar</button>
                </div>
            </form>
        </div>
    </ng-container>
</ion-content>